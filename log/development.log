  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (102.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (88.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "discount" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (183.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_tariff_rule_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("tariff_rules")
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (88.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (166.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "discount" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (78.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_tariff_rule_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("tariff_rules")
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (107.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (92.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (87.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_tariff_rule_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("tariff_rules")
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (96.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (94.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (97.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_tariff_rule_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("tariff_rules")
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (85.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (99.2ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (93.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_tariff_rule_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("tariff_rules")
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (101.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (94.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (95.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_tariff_rule_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("tariff_rules")
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "products"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('FR1', 'Fruit tea', 3.11, '2012-07-09 18:55:55', '2012-07-09 18:55:55', 1070364113, 479563635)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('SR1', 'Strawberries', 5.0, '2012-07-09 18:55:55', '2012-07-09 18:55:55', 622924888, 385018992)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id") VALUES ('CF1', 'Coffee', 11.23, '2012-07-09 18:55:55', '2012-07-09 18:55:55', 396976243)[0m
  [1m[35m (67.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (84.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (101.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (83.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_tariff_rule_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("tariff_rules")
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "tariff_rules"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "tariff_rules" ("name", "discount", "quantity", "rule_schema", "created_at", "updated_at", "id") VALUES ('Buy one get one free', 3.11, 2, 0, '2012-07-09 18:56:16', '2012-07-09 18:56:16', 479563635)[0m
SQLite3::SQLException: table tariff_rules has no column named rule_schema: INSERT INTO "tariff_rules" ("name", "discount", "quantity", "rule_schema", "created_at", "updated_at", "id") VALUES ('Buy one get one free', 3.11, 2, 0, '2012-07-09 18:56:16', '2012-07-09 18:56:16', 479563635)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "products"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('FR1', 'Fruit tea', 3.11, '2012-07-09 18:56:16', '2012-07-09 18:56:16', 1070364113, 479563635)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('SR1', 'Strawberries', 5.0, '2012-07-09 18:56:16', '2012-07-09 18:56:16', 622924888, 385018992)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id") VALUES ('CF1', 'Coffee', 11.23, '2012-07-09 18:56:16', '2012-07-09 18:56:16', 396976243)[0m
  [1m[35m (64.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (126.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (329.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (269.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (264.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_tariff_rule_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("tariff_rules")
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "tariff_rules"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Buy one get one free', 3.11, 2, 0, '2012-07-09 18:56:49', '2012-07-09 18:56:49', 479563635)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Discount 0.5 for all after 3 or more items', 0.5, 3, 1, '2012-07-09 18:56:49', '2012-07-09 18:56:49', 385018992)
  [1m[36m (82.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('FR1', 'Fruit tea', 3.11, '2012-07-09 18:56:49', '2012-07-09 18:56:49', 1070364113, 479563635)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('SR1', 'Strawberries', 5.0, '2012-07-09 18:56:49', '2012-07-09 18:56:49', 622924888, 385018992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id") VALUES ('CF1', 'Coffee', 11.23, '2012-07-09 18:56:49', '2012-07-09 18:56:49', 396976243)
  [1m[36m (192.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (129.4ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (92.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (91.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_products_on_tariff_rule_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("tariff_rules")
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "tariff_rules"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Buy one get one free', 3.11, 2, 0, '2012-07-09 18:59:40', '2012-07-09 18:59:40', 479563635)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Discount 0.5 for all after 3 or more items', 0.5, 3, 1, '2012-07-09 18:59:40', '2012-07-09 18:59:40', 385018992)
  [1m[36m (63.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('FR1', 'Fruit tea', 3.11, '2012-07-09 18:59:40', '2012-07-09 18:59:40', 1070364113, 479563635)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('SR1', 'Strawberries', 5.0, '2012-07-09 18:59:40', '2012-07-09 18:59:40', 622924888, 385018992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id") VALUES ('CF1', 'Coffee', 11.23, '2012-07-09 18:59:40', '2012-07-09 18:59:40', 396976243)
  [1m[36m (81.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (100.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (100.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (77.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateCheckouts (20120709191647)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709191647')
  [1m[36m (96.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("checkouts")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_products_on_tariff_rule_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("tariff_rules")[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "tariff_rules"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Buy one get one free', 3.11, 2, 0, '2012-07-09 19:35:52', '2012-07-09 19:35:52', 479563635)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Discount 0.5 for all after 3 or more items', 0.5, 3, 1, '2012-07-09 19:35:52', '2012-07-09 19:35:52', 385018992)[0m
  [1m[35m (57.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "products"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('FR1', 'Fruit tea', 3.11, '2012-07-09 19:35:53', '2012-07-09 19:35:53', 1070364113, 479563635)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('SR1', 'Strawberries', 5.0, '2012-07-09 19:35:53', '2012-07-09 19:35:53', 622924888, 385018992)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id") VALUES ('CF1', 'Coffee', 11.23, '2012-07-09 19:35:53', '2012-07-09 19:35:53', 396976243)[0m
  [1m[35m (90.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (115.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (177.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (64.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (83.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateCheckouts (20120709191647)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709191647')
  [1m[36m (115.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("checkouts")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_products_on_tariff_rule_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("tariff_rules")[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "tariff_rules"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Buy one get one free', 3.11, 2, 0, '2012-07-09 21:01:20', '2012-07-09 21:01:20', 479563635)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Discount 0.5 for all after 3 or more items', 0.5, 3, 1, '2012-07-09 21:01:20', '2012-07-09 21:01:20', 385018992)[0m
  [1m[35m (110.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "products"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('FR1', 'Fruit tea', 3.11, '2012-07-09 21:01:20', '2012-07-09 21:01:20', 1070364113, 479563635)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('SR1', 'Strawberries', 5.0, '2012-07-09 21:01:20', '2012-07-09 21:01:20', 622924888, 385018992)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id") VALUES ('CF1', 'Coffee', 11.23, '2012-07-09 21:01:20', '2012-07-09 21:01:20', 396976243)[0m
  [1m[35m (284.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (93.0ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.4ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.7ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (105.8ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (159.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (85.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (60.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (103.8ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.3ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.7ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (120.8ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (176.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (257.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (98.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (60.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (87.9ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.5ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.8ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (76.1ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (74.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (60.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (88.5ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.4ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.8ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (82.9ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (89.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (59.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (91.4ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.8ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (60.0ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (100.8ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (91.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (59.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (107.5ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.9ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.7ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (74.7ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (70.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (59.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (79.8ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.5ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.7ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (87.8ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (143.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (78.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (68.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (127.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (99.7ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.8ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (206.9ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (70.3ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (80.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (59.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.7ms)[0m  select sqlite_version(*)
  [1m[36m (128.7ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.8ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (60.0ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (87.2ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (243.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (107.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (264.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (102.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (59.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (100.3ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.5ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.8ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (83.3ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (81.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (60.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (96.6ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.5ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.7ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (75.6ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (65.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (60.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (86.9ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.5ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.8ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (76.6ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (72.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (60.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (106.4ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.7ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.7ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (74.7ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (162.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (60.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (59.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (99.3ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.3ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.6ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (76.3ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.4ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (298.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (86.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (181.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (334.6ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (137.0ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (466.7ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (113.0ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (276.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (82.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (59.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (93.5ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.5ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.7ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (74.7ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (73.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (60.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (106.8ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.7ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (164.8ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (69.2ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (153.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (67.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (60.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (101.5ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.5ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.7ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (76.6ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (89.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (68.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (96.4ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.9ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.9ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (79.0ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (75.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (59.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (86.4ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (101.0ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (246.0ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (157.3ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (336.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (341.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (85.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (210.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (91.0ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.8ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.2ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (77.9ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (75.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (59.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (85.7ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (248.7ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (60.1ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (68.6ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (228.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (69.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (60.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (100.2ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.4ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.7ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (76.1ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (90.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (60.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (89.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (86.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (88.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateCheckouts (20120709191647)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709191647')
  [1m[36m (97.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("checkouts")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_products_on_tariff_rule_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("tariff_rules")[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "tariff_rules"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Buy one get one free', 3.11, 2, 0, '2012-07-09 23:14:27', '2012-07-09 23:14:27', 479563635)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Discount 0.5 for all after 3 or more items', 0.5, 3, 1, '2012-07-09 23:14:27', '2012-07-09 23:14:27', 385018992)[0m
  [1m[35m (79.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "products"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('FR1', 'Fruit tea', 3.11, '2012-07-09 23:14:27', '2012-07-09 23:14:27', 1070364113, 479563635)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('SR1', 'Strawberries', 5.0, '2012-07-09 23:14:27', '2012-07-09 23:14:27', 622924888, 385018992)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id") VALUES ('CF1', 'Coffee', 11.23, '2012-07-09 23:14:27', '2012-07-09 23:14:27', 396976243)[0m
  [1m[35m (82.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (100.8ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (66.8ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.6ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (78.6ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.4ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (72.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (59.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (114.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (91.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (86.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateCheckouts (20120709191647)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709191647')
  [1m[36m (102.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("checkouts")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_products_on_tariff_rule_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("tariff_rules")[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "tariff_rules"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Buy one get one free', 3.11, 2, 0, '2012-07-09 23:16:32', '2012-07-09 23:16:32', 479563635)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Discount 0.5 for all after 3 or more items', 0.5, 3, 1, '2012-07-09 23:16:32', '2012-07-09 23:16:32', 385018992)[0m
  [1m[35m (72.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "products"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('FR1', 'Fruit tea', 3.11, '2012-07-09 23:16:32', '2012-07-09 23:16:32', 1070364113, 479563635)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('SR1', 'Strawberries', 5.0, '2012-07-09 23:16:32', '2012-07-09 23:16:32', 622924888, 385018992)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id") VALUES ('CF1', 'Coffee', 11.23, '2012-07-09 23:16:32', '2012-07-09 23:16:32', 396976243)[0m
  [1m[35m (91.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (85.0ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.5ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.8ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (83.0ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (59.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (79.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (60.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (120.3ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (58.4ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (59.8ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (91.9ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (126.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (59.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (69.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (59.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (60.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (39.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (8.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (9.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateCheckouts (20120709191647)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709191647')
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  select sqlite_version(*)
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("checkouts")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_products_on_tariff_rule_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("tariff_rules")[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('FR1', 'Fruit tea', 3.11, '2012-07-09 23:59:58', '2012-07-09 23:59:58', 1070364113, 479563635)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('SR1', 'Strawberries', 5.0, '2012-07-09 23:59:58', '2012-07-09 23:59:58', 622924888, 385018992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id") VALUES ('CF1', 'Coffee', 11.23, '2012-07-09 23:59:58', '2012-07-09 23:59:58', 396976243)
  [1m[36m (9.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "tariff_rules"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Buy one get one free', 3.11, 2, 0, '2012-07-09 23:59:58', '2012-07-09 23:59:58', 479563635)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Discount 0.5 for all after 3 or more items', 0.5, 3, 1, '2012-07-09 23:59:58', '2012-07-09 23:59:58', 385018992)[0m
  [1m[35m (8.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (12.5ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (11.6ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (12.3ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (30.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (9.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (10.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (11.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (9.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (10.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (11.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (2.9ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (10.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateCheckouts (20120709191647)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709191647')
  [1m[36m (11.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  select sqlite_version(*)
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("checkouts")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_products_on_tariff_rule_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("tariff_rules")[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('FR1', 'Fruit tea', 3.11, '2012-07-10 00:03:21', '2012-07-10 00:03:21', 1070364113, 479563635)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('SR1', 'Strawberries', 5.0, '2012-07-10 00:03:21', '2012-07-10 00:03:21', 622924888, 385018992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id") VALUES ('CF1', 'Coffee', 11.23, '2012-07-10 00:03:21', '2012-07-10 00:03:21', 396976243)
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "tariff_rules"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Buy one get one free', 3.11, 2, 0, '2012-07-10 00:03:21', '2012-07-10 00:03:21', 479563635)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Discount 0.5 for all after 3 or more items', 0.5, 3, 1, '2012-07-10 00:03:21', '2012-07-10 00:03:21', 385018992)[0m
  [1m[35m (10.7ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  select sqlite_version(*)
  [1m[36m (10.0ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (10.3ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (13.5ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (10.8ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (12.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (9.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (12.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (12.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (23.5ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (11.2ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (8.4ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (8.3ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (8.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (8.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (8.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (8.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (9.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (42.0ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (10.6ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (10.7ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (11.6ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (11.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (11.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (12.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (29.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (11.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateProducts (20120709173356)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("products")
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173356')
  [1m[36m (11.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateTariffRules (20120709173754)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709173754')
  [1m[36m (12.1ms)[0m  [1mcommit transaction[0m
Migrating to CreateCheckouts (20120709191647)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120709191647')
  [1m[36m (11.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("checkouts")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_products_on_tariff_rule_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("tariff_rules")[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('FR1', 'Fruit tea', 3.11, '2012-07-13 13:37:21', '2012-07-13 13:37:21', 1070364113, 479563635)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id", "tariff_rule_id") VALUES ('SR1', 'Strawberries', 5.0, '2012-07-13 13:37:21', '2012-07-13 13:37:21', 622924888, 385018992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("code", "name", "price", "created_at", "updated_at", "id") VALUES ('CF1', 'Coffee', 11.23, '2012-07-13 13:37:21', '2012-07-13 13:37:21', 396976243)
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "tariff_rules"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Buy one get one free', 3.11, 2, 0, '2012-07-13 13:37:21', '2012-07-13 13:37:21', 479563635)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "tariff_rules" ("name", "discount", "quantity", "schema", "created_at", "updated_at", "id") VALUES ('Discount 0.5 for all after 3 or more items', 0.5, 3, 1, '2012-07-13 13:37:21', '2012-07-13 13:37:21', 385018992)[0m
  [1m[35m (12.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (8.9ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (9.8ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (12.8ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (12.4ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (12.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (12.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (11.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (11.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (21.9ms)[0m  [1mCREATE TABLE "checkouts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (11.2ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tariff_rule_id" integer, "code" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "price" decimal(8,2), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("products")[0m
  [1m[35m (11.8ms)[0m  CREATE INDEX "index_products_on_tariff_rule_id" ON "products" ("tariff_rule_id")
  [1m[36m (9.8ms)[0m  [1mCREATE TABLE "tariff_rules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "quantity" integer DEFAULT 0 NOT NULL, "discount" decimal(8,2), "schema" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (11.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (11.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (11.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709191647')
  [1m[36m (12.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120709173356')[0m
  [1m[35m (12.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120709173754')
